// ============================================
// ANTI-GRAVITY DROPDOWN LAYOUT
// Ensures dropdowns float above content without pushing anything down
// ============================================

// Parent container must have position: relative
.nav-item.dropdown {
  position: relative !important;
}

// Dropdown menu - ANTI-GRAVITY positioning
.dropdown-menu {
  // Critical: Absolute positioning removes from document flow
  position: absolute !important;

  // Position below the parent menu item
  top: 100% !important;
  left: 0 !important;

  // High z-index to overlay all content
  z-index: 1050 !important;

  // Styling
  border-radius: 0.25rem;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
  border: 1px solid rgba(0, 0, 0, 0.1);
  padding: 0.5rem 0;
  background-color: #fff;
  min-width: 200px;

  // Hidden by default
  display: none;
  opacity: 0;
  visibility: hidden;

  // Smooth transition
  transition: opacity 0.2s ease, visibility 0.2s ease, transform 0.2s ease;
  transform: translateY(-10px);

  // Prevent margin collapse
  margin: 0 !important;

  // When shown
  &.show {
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
    transform: translateY(0) !important;
  }
}

// Dropdown items styling
.dropdown-item {
  padding: 0.5rem 1rem;
  color: #212529;
  text-decoration: none;
  display: flex;
  align-items: center;
  white-space: nowrap;

  &:hover,
  &:focus {
    background-color: #f8f9fa;
    color: #0d6efd;
  }

  &:active {
    background-color: #e9ecef;
  }
}

// Dropdown toggle styling
.dropdown-toggle {
  cursor: pointer;

  &::after {
    margin-left: 0.5em;
    vertical-align: middle;
    transition: transform 0.2s ease;
  }
}

// When dropdown is open, rotate the caret
.dropdown.show .dropdown-toggle::after {
  transform: rotate(180deg);
}

// Ensure navbar doesn't change height when dropdown opens
.navbar-nav {
  position: relative;

  .nav-item {

    // Prevent any height changes
    &.dropdown {
      // No margin or padding changes on open
      margin: 0;

      &.show {
        margin: 0; // Ensure no margin is added
      }
    }
  }
}

// Fade in animation
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// Ensure header container doesn't expand
.header>.container-fluid {
  overflow: visible; // Allow dropdown to overflow
  position: relative;
}